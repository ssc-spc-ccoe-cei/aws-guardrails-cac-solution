import logging
import time


logger = logging.getLogger()
logger.setLevel(logging.INFO)


def list_all_code_build_projects(code_build_client, interval_between_calls: float = 0.05):
    resources: list[dict] = []
    paginator = code_build_client.get_paginator("list_projects")
    page_iterator = paginator.paginate()
    for page in page_iterator:
        resources.extend(page.get("projects", []))
        time.sleep(interval_between_calls)
    return resources
