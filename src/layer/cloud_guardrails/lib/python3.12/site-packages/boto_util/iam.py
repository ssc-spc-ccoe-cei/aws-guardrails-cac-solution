def account_has_federated_users(iam_client) -> bool:
    response = iam_client.list_open_id_connect_providers()
    if not response:
        raise Exception("Request to list OIDC providers returned an invalid response")
    providers = response.get("OpenIDConnectProviderList", [])
    if providers:
        return True

    response = iam_client.list_saml_providers()
    if not response:
        raise Exception("Request to list SAML providers returned an invalid response")
    providers = response.get("SAMLProviderList", [])
    if providers:
        return True

    return False
